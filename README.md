# Linux学习笔记
## 计算机体系结构

三类总线
数据总线 - 传输数据（双向）
地址总线 - 指定内存地址（单向）
控制总线 - 传输控制信号（双向）
进程的结构
  1. 进程控制块（PCB - Process Control Block）
    这是进程结构中最关键的部分。PCB是操作系统用于描述和管理进程的一个数据结构，每个进程都有一个唯一的PCB。当进程被创建时，PCB被创建；当进程终止时，PCB被回收。可以说，PCB就是进程存在的唯一标识。
    PCB中通常包含以下信息：
    进程标识信息（PID）：唯一的进程ID，用于区分不同进程。
    进程状态：指明进程当前的状态，如就绪、运行、阻塞等。
    程序计数器（PC）：存放下一条要执行的指令的地址。
    CPU寄存器：当进程被切换出CPU时，需要保存所有寄存器的值，以便后续能恢复执行。
    CPU调度信息：进程的优先级、调度队列指针等。
    内存管理信息：基址/限址存器、页表或段表的指针等。这定义了进程的地址空间。
    记账信息：CPU使用时间、时间限制等。
    I/O状态信息：分配给进程的I/O设备列表、打开的文件列表等
  2. 代码段（Text Segment）
    这部分是只读的，存放进程要执行的程序代码（机器指令）。为了防止意外修改，通常被设置为只读。
  3. 数据段（Data Segment）
    存放全局变量和静态变量。它在程序开始运行时分配，在程序结束时释放。
    已初始化数据段：存放明确初始值的全局/静态变量（如 int global_var = 100;）。
    未初始化数据段（BSS段）：存放未初始化的全局/静态变量（如 static int uninit_var;），操作系统会在加载时将其初始化为0。
  4. 堆（Heap）
    用于动态内存分配。当程序使用 malloc()、new 等关键字申请内存时，内存就从堆中分配。堆的内存空间通常向上增长。它的生命周期由程序员控制，如果管理不当会造成内存泄漏。
  5. 栈Stack）
    用于存放局部变量、函数参数和返回地址。每当一个函数被调用时，一个新的栈帧（Stack Frame）就会被压入栈中，用于存储该函数的局部变量等信息。当函数返回时，其栈帧被弹出。栈的内存空间通常向下增长。它的管理是自动的，由编译器完成。
# 概念
### 1.进程概念
  程序的执行实例，拥有独立的内存空间和系统资源，包含程序代码、数据、堆栈、寄存器等，是系统资源分配和调度的基本单位。
### 2.状态
  R (Running)	正在运行或可运行
  S (Sleeping)	可中断的睡眠状态
  D (Uninterruptible)	不可中断的睡眠状态
  T (Stopped)	暂停状态
  Z (Zombie)	僵尸进程
  X (Dead)	死亡状态
### 3.进程指令
  3.1ps
    ps aux                    # 查看所有用户的所有进程
    ps -ef                    # 完整格式显示所有进程
    ps -u username            # 查看指定用户的进程
    ps -p PID                 # 查看指定PID的进程
    ps -C process_name        # 查看指定进程名的进程
    3.1.1字段说明
      USER: 进程所有者
      PID: 进程ID
      %CPU: CPU使用率
      %MEM: 内存使用率
      VSZ: 虚拟内存大小
      RSS: 物理内存大小
      TTY: 终端设备
      STAT: 进程状态
      START: 启动时间
      TIME: 累计CPU时间
      COMMAND: 命令名称
  3.2top
    top                       # 实时显示进程状态
    top -u username           # 监控指定用户的进程
    top -p PID1,PID2          # 监控指定PID的进程
